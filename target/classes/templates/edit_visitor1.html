
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>OASYS-Visitor Management System</title>
    <link rel="icon" sizes="32x32" th:href="@{/image/oasys_logo_icon.png}" type="image/png">
    <meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">

 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.35.3/es6-shim.min.js"></script>
    <link
	href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
	rel="stylesheet">
	
<link  th:href="@{/styles/cssandjs/core.css}" rel="stylesheet" />

<link th:href="@{/styles/cssandjs/icon-font.min.css}" rel="stylesheet"/>

<link th:href="@{/styles/cssandjs/style.css}" rel="stylesheet" />
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>

<link
	href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
	rel="stylesheet">
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.35.3/es6-shim.min.js"></script>

<link th:href="@{/styles/cssandjs/core.css}" rel="stylesheet" />

<link th:href="@{/styles/cssandjs/icon-font.min.css}" rel="stylesheet" />

<link th:href="@{/styles/cssandjs/style.css}" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

</head>
<body>


     <form  th:action="@{/visitors/save}" id="formID" th:object = "${visitor}" 	  method="POST">
  <img th:src="@{/image/Artboard.jpg}"   >
        <div class="login-header box-shadow">
    

        <br> <br>
        
            <div class="container-fluid ">
                <div class="row align-items-center">
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="home"
                            role="tabpanel" aria-labelledby="home-tab">
                            <div class="row register-form">
                                <div class="col-md-6">
                                
                                <div class="form-floating">
												<input type="text" 	th:field = "*{name}"	 class="form-control"										
												onkeyup="nameValidation();" name="name" 
												id="name_field"  maxlength="25"   title="Name should contain only Alphabets no special Characters allowed"
												placeholder="Enter the Visitor Name"  											
												required readonly /> <label for="floatingInput" >Name</label> <span
												id="name-error" class=text-danger></span> <!-- pattern="[A-Za-z\s]+" -->
												
												
										</div>
										<br>
									<div class="form-floating ">
											<input type="tel"  th:field = "*{phoneNumber}" class="form-control" onkeypress="return /[0-9]/i.test(event.key)"
												 minlength="10"  maxlength="10" id="mobileNumber" title="Mobile Number Format Start With '6|7|8|9' Ten digits in total required"
												name="phoneNumber" placeholder="Enter the Visitor Number"
												pattern="[6-9]{1}[0-9]{9}" required  readonly onkeyup="check();"/> <label
												for="floatingInput">Mobile</label><span class="text-danger"id="message"></span>
										</div> <!-- onkeypress="return /[0-9]/i.test(event.key)" --> 
										<br> 
										
										
										<div class="form-floating">
											<input class="form-control" th:field = "*{email}" name="email" id="myEmail" maxlength="35"
												type="email"
												pattern="[A-Za-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
												data-bv-emailaddress-message="The value is not a valid email address"
												onkeyup="ValidateEmail();"
													title="Email format abc@xyz.co"
												placeholder="Enter the Visitor EMail" readonly> <label
												for="floatingInput">Email</label> <span id="email-error"
												class="text-danger"></span>
										</div>
										<br>
                                
                                   <!--  <div class="form-floating">
                                        <input type="text" class="form-control"
                                             name="gender" placeholder="Enter the Gender" th:field="*{gender}" required />
                                             <label for="floatingInput">Gender</label>
                                    </div><br> -->
                                    
                                    
                                    
                                    
                                    
                                    <!-- <div class="form-floating">
                                        <input type="text" class="form-control"
                                             name="vehicleNumber" placeholder="Vehicle Number"  th:field = "*{vehicleNumber}"required />
                                             <label for="floatingInput">Vehicle Number</label>
                                             </div><br> -->
                                             
                                              <!--  <div class="form-floating">
                                        <input type="text" class="form-control"
                                             name="visitorCount"  th:field = "*{visitorCount}"  placeholder="Visitor Count" required />
                                             <label for="floatingInput">Visitor Count</label>
                                                  </div><br> -->
                                    <div class="form-floating">
                                        <textarea type="text"  rows="3"class="form-control" id="address"
                                            name="address"  th:field ="*{address}" style="height: 100px" placeholder="address of the Visitor"
                                            required></textarea>
                                            <label for="floatingInput">Address</label>
                                    </div><br>
                                    
                                     
                                    </div>
                                    <div class="col-md-6">
                                   
                                    
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="tomeet"
                                            name="toMeet"  th:field = "*{toMeet}" placeholder="Whom To Meet"required>
                                            <label for="floatingInput">WhomTo Meet</label>
                                    </div><br>
                                    
                                    	<div class="form-floating">
												<input type="text" th:field="*{department}"	 class="form-control"										
												onkeyup="departmentValidation();" name="department" 
												id="dept_field" title="Name should contain only Alphabets no special Characters allowed"	 maxlength="25"  
												placeholder="Whom to Meet" 												
												required /> <label for="floatingInput" >Department</label> <span
												id="dept-error" class=text-danger></span>
												
												
										</div>
										<br>
										
										<div class="form-group row align-items-center">
											<label class="col-md-4 col-form-label">Purpose of Visit</label>
											<div class="col-sm-8">
												<div class="custom-control custom-radio custom-control-inline pb-0">
													<input type="radio" id="purpose"  th:field="*{purpose}" value="Official"  name="purpose" class="custom-control-input" required>
													<label class="custom-control-label" for="Official">Official</label>
												</div>
												<div class="custom-control custom-radio custom-control-inline pb-0">
													<input type="radio" id="purpose" th:field="*{purpose}"  name="purpose"  value="Personal"  class="custom-control-input" required>
													<label class="custom-control-label" for="Personal">Personal</label>
												</div>
											</div>
										</div>
		<br>
                                    
                                    <!-- <div class="form-floating">
                                        <input type="text" class="form-control"
                                            name="govtId"  th:field = "*{govtId}" placeholder="Enter any Government Id"
                                            required>
                                            <label for="floatingInput">Govt.Id Details</label>
                                    </div><br> -->
                                   <!--  <div class="form-floating">
                                        <input type="text" class="form-control"
                                            name="department"   th:field = "*{department}"placeholder="Department to Visit"
                                            required>
                                            <label for="floatingInput">Department</label>
                                    </div><br>
                                    <div class="form-floating">
                                        <input type="text" class="form-control"
                                             name="vehicleType" placeholder="Vehicle Type" th:field="*{vehicleType}" required />
                                             <label for="floatingInput">Vehicle Type</label>
                                             </div><br> -->
                                             
                                    <div class="form-floating">
                                        <textarea type="text"  rows="3"class="form-control" id="description"
                                            name="purpose"  th:field = "*{description}" placeholder= "purpose of the visit" style="height: 100px"
                                            required></textarea>
                                            <label for="floatingInput">Description</label>
                                    </div><br>
                                    
                                     
                                   
                               
                                    <!-- <div class="form-group" >
                                        <input class="form-control selectpicker date-picker"
                                            placeholder="Choose Date " id="idx_emp_dob"  type="text" required>
                                    </div><br>  -->    
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                    <div class="text-center sd-6 home">
                        <button  id="submitID" type="submit"  class="btn btn-success" 
                        >Submit</button>
                        <a th:href="@{/visitors/new}"> <button  class="btn btn-secondary" onclick="history.back()">Back</button></a>
                        <!-- <button type="reset"  class="btn btn-secondary"> Reset </button> -->
                        </div>
                        </div>
                        </div>
                        <br>
                        <br>
        </form>
<!--  <script>
const form = document.getElementById('formID');

form.addEventListener('submit', function handleSubmit(event) {
  event.preventDefault();

  form.submit();

  // üëáÔ∏è Reset form here
  form.reset();
});

    </script>  -->
    
    
 <script type="text/javascript">
    
    const btn = document.getElementById('formID');

    btn.addEventListener('submit', function handleClick(event) {
      // üëáÔ∏è if you are submitting a form (prevents page reload)
      event.preventDefault();

      const name = document.getElementById('name_field');
      const mobile=document.getElementById('mobileNumber');
      const email=document.getElementById('myEmail');
      const address=document.getElementById('address');
      const toMeet=document.getElementById('tomeet');
      const department=document.getElementById('dept_field');
      const purpose=document.getElementById('purpose');
      const description=document.getElementById('description');

      btn.submit();
      
      // Send value to server
      console.log(name.value);

      // üëáÔ∏è clear input field
      name.value = '';
      mobile.value='';
      email.value='';
      address.value='';
      toMeet.value='';
      department.value='';
      purpose.value='';
      description.value='';
      
    });
    </script>
    
    <script type="text/javascript" th:src="@{/js/cssandjs/core.js}"></script>
				<script  type="text/javascript" th:src="@{/js/cssandjs/script.min.js}"></script>
				<script  type="text/javascript" th:src="@{/js/cssandjs/process.js}"></script>
				<script  type="text/javascript" th:src="@{/js/cssandjs/layout-settings.js}"></script>
				
				
			
</body>
</html>